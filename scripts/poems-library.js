// –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ —Å—Ç–∏—Ö–∞–º–∏ —Å –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π
class PoemsLibrary {
    constructor() {
        this.poems = this.getBuiltInPoems();
        this.isTyping = false;
        this.currentAnimation = null;
    }

    getBuiltInPoems() {
        return [
            {
                "id": 1,
                "title": "–¢—ã - –º–æ—ë –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ",
                "author": "–î–ª—è —Ç–µ–±—è", 
                "year": "2024",
                "tags": ["–ª—é–±–æ–≤—å", "–≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ"],
                "text": "–¢—ã - —É—Ç—Ä–µ–Ω–Ω–∏–π —Å–≤–µ—Ç –≤ –º–æ–∏—Ö –æ–∫–Ω–∞—Ö,\n–¢—ã - —à–µ–ø–æ—Ç –∑–≤–µ–∑–¥—ã –≤ —Ç–∏—à–∏–Ω–µ,\n–¢—ã - –º—É–∑—ã–∫–∞ –Ω–µ–±–∞ –≤—ã—Å–æ–∫–æ–≥–æ,\n–ß—Ç–æ –ª—å–µ—Ç—Å—è —Ç–∞–∫ –Ω–µ–∂–Ω–æ –≤–æ —Å–Ω–µ.\n\n–¢—ã - –∫–∞–∂–¥—ã–π –º–æ–π –¥–µ–Ω—å, –æ–∂–∏–≤—à–∏–π\n–û—Ç –ø—Ä–∏–∫–æ—Å–Ω–æ–≤–µ–Ω–∏—è —Ä—É–∫,\n–¢—ã - –≤–æ–∑–¥—É—Ö, –∫–æ—Ç–æ—Ä—ã–º –¥—ã—à—É —è,\n–ú–æ–π —Å–∞–º—ã–π –ª—É—á—à–∏–π –¥—Ä—É–≥."
            },
            {
                "id": 2,
                "title": "–£–ª—ã–±–∫–∞ —Ç–≤–æ—è",
                "author": "–î–ª—è —Ç–µ–±—è",
                "year": "2024",
                "tags": ["—É–ª—ã–±–∫–∞", "—Å–≤–µ—Ç"], 
                "text": "–£–ª—ã–±–∫–∞ —Ç–≤–æ—è - –∫–∞–∫ —Å–æ–ª–Ω—Ü–µ –≤–µ—Å–µ–Ω–Ω–µ–µ,\n–ß—Ç–æ —Ç–∞–µ—Ç –∑–∏–º–∞ –≤ –µ–≥–æ —Å–≤–µ—Ç–ª—ã—Ö –ª—É—á–∞—Ö,\n–í —Ç–≤–æ–∏—Ö –≥–ª–∞–∑–∞—Ö - —Ü–µ–ª–∞—è –≤—Å–µ–ª–µ–Ω–Ω–∞—è,\n–ì–¥–µ —Å—á–∞—Å—Ç—å–µ –º–æ–µ –≤ —Å–∞–º—ã—Ö —è—Ä–∫–∏—Ö –∫—Ä–∞—Å–∫–∞—Ö.\n\n–ò –≤ –∫–∞–∂–¥–æ–º —Ç–≤–æ–µ–º —Å–∞–º–æ–º –Ω–µ–∂–Ω–æ–º –¥–≤–∏–∂–µ–Ω—å–µ\n–Ø –≤–∏–∂—É –æ—Ç–≤–µ—Ç –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã —Å–≤–æ–∏,\n–¢—ã - –º–æ–µ –æ–≥—Ä–æ–º–Ω–æ–µ —á—É–¥–æ-—è–≤–ª–µ–Ω–∏–µ,\n–ß—Ç–æ —Å–¥–µ–ª–∞–ª–æ –∂–∏–∑–Ω—å –Ω–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ–π, –ª—é–±—è."
            },
            {
                "id": 3,
                "title": "–í –∫–∞–∂–¥–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏",
                "author": "–°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ",
                "year": "2024",
                "tags": ["—Å–æ–æ–±—â–µ–Ω–∏—è", "—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏", "–ª—é–±–æ–≤—å"],
                "text": "–í –∫–∞–∂–¥–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏ - —á–∞—Å—Ç–∏—á–∫–∞ –¥—É—à–∏,\n–í –∫–∞–∂–¥–æ–º —Å–º–∞–π–ª–∏–∫–µ - —É–ª—ã–±–∫–∞ —Ç–≤–æ—è,\n–î–∞–∂–µ —á–µ—Ä–µ–∑ —ç–∫—Ä–∞–Ω —è —á—É–≤—Å—Ç–≤—É—é,\n–ö–∞–∫ –±—å–µ—Ç—Å—è —Å–µ—Ä–¥—Ü–µ, –ª—é–±—è.\n\n–¢—ã –ø—Ä–∏—Å—ã–ª–∞–µ—à—å –ø–µ—Å–Ω–∏, —á—Ç–æ –≥–æ–≤–æ—Ä—è—Ç\n–û —Ç–æ–º, —á—Ç–æ –≤ –¥—É—à–µ —É —Ç–µ–±—è —Ç–≤–æ—Ä–∏—Ç—Å—è,\n–ò –≤ –∫–∞–∂–¥–æ–º —Ç—Ä–µ–∫–µ —è —Å–ª—ã—à—É –ø—Ä–∏–∑–Ω–∞–Ω–∏–µ,\n–ß—Ç–æ –Ω–∞—à–∞ –ª—é–±–æ–≤—å –±—É–¥–µ—Ç –≤–µ—á–Ω–æ –¥–ª–∏—Ç—å—Å—è."
            },
            {
                "id": 4,
                "title": "–ö–æ—Ñ–µ –∏ —Å–æ–æ–±—â–µ–Ω–∏—è",
                "author": "–°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ",
                "year": "2024",
                "tags": ["—É—Ç—Ä–æ", "–∫–æ—Ñ–µ", "—Ä–æ–º–∞–Ω—Ç–∏–∫–∞"],
                "text": "–£—Ç—Ä–æ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –Ω–µ —Å –∫–æ—Ñ–µ,\n–ê —Å —Ç–≤–æ–µ–≥–æ '–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ, —Ä–æ–¥–Ω–æ–π',\n–ò —ç—Ç–æ—Ç –ø—Ä–æ—Å—Ç–æ–π –º–µ—Å—Å–µ–¥–∂\n–î–µ–ª–∞–µ—Ç –æ–±—ã—á–Ω—ã–π –¥–µ–Ω—å –∏–Ω—ã–º.\n\n–¢—ã –ø—Ä–∏—Å—ã–ª–∞–µ—à—å —Ñ–æ—Ç–æ —Å –∫—Ä—É–∂–∫–æ–π,\n–Ø –æ—Ç–≤–µ—á–∞—é —Å–Ω–∏–º–∫–æ–º –∑–∞–∫–∞—Ç–∞,\n–ò –¥–∞–∂–µ —á–µ—Ä–µ–∑ –∫–∏–ª–æ–º–µ—Ç—Ä—ã\n–õ—é–±–æ–≤—å –Ω–∞—à–∞ –∫–∞–∂–µ—Ç—Å—è –±–æ–≥–∞—Ç–æ–π."
            },
            {
                "id": 5,
                "title": "–ì–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è",
                "author": "–°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ",
                "year": "2024", 
                "tags": ["–≥–æ–ª–æ—Å–æ–≤—ã–µ", "–Ω–µ–∂–Ω–æ—Å—Ç—å", "—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏"],
                "text": "–°–æ—Ö—Ä–∞–Ω—è—é —Ç–≤–æ–∏ –≥–æ–ª–æ—Å–æ–≤—ã–µ\n–í –æ—Ç–¥–µ–ª—å–Ω–æ–π –ø–∞–ø–∫–µ '–î–ª—è –¥—É—à–∏',\n–°–ª—É—à–∞—é, –∫–æ–≥–¥–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –≥—Ä—É—Å—Ç–Ω–æ,\n–ò —Å—Ä–∞–∑—É –∂–µ –º–∏—Ä —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ö–æ—Ä–æ—à–∏–º.\n\n–¢–≤–æ–π —Å–º–µ—Ö –≤ –∞—É–¥–∏–æ - –ª—É—á—à–µ–µ –ª–µ–∫–∞—Ä—Å—Ç–≤–æ,\n–¢–≤–æ–π –≥–æ–ª–æ—Å - –º–æ–π –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π ASMR,\n–ò –¥–∞–∂–µ —à—É–º –Ω–∞ —Ñ–æ–Ω–µ\n–ö–∞–∂–µ—Ç—Å—è –º—É–∑—ã–∫–æ–π, —á—Ç–æ –ª–µ—á–∏—Ç –¥—É—à—É."
            },
            {
                "id": 6,
                "title": "–Ø –ø–æ–º–Ω—é —á—É–¥–Ω–æ–µ –º–≥–Ω–æ–≤–µ–Ω—å–µ",
                "author": "–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –ü—É—à–∫–∏–Ω",
                "year": "1825",
                "tags": ["–∫–ª–∞—Å—Å–∏–∫–∞", "–ª—é–±–æ–≤—å", "–≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è"],
                "text": "–Ø –ø–æ–º–Ω—é —á—É–¥–Ω–æ–µ –º–≥–Ω–æ–≤–µ–Ω—å–µ:\n–ü–µ—Ä–µ–¥–æ –º–Ω–æ–π —è–≤–∏–ª–∞—Å—å —Ç—ã,\n–ö–∞–∫ –º–∏–º–æ–ª–µ—Ç–Ω–æ–µ –≤–∏–¥–µ–Ω—å–µ,\n–ö–∞–∫ –≥–µ–Ω–∏–π —á–∏—Å—Ç–æ–π –∫—Ä–∞—Å–æ—Ç—ã.\n\n–í —Ç–æ–º–ª–µ–Ω—å—è—Ö –≥—Ä—É—Å—Ç–∏ –±–µ–∑–Ω–∞–¥–µ–∂–Ω–æ–π,\n–í —Ç—Ä–µ–≤–æ–≥–∞—Ö —à—É–º–Ω–æ–π —Å—É–µ—Ç—ã,\n–ó–≤—É—á–∞–ª –º–Ω–µ –¥–æ–ª–≥–æ –≥–æ–ª–æ—Å –Ω–µ–∂–Ω—ã–π\n–ò —Å–Ω–∏–ª–∏—Å—å –º–∏–ª—ã–µ —á–µ—Ä—Ç—ã."
            },
            {
                "id": 7,
                "title": "–Ø –≤–∞—Å –ª—é–±–∏–ª",
                "author": "–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –ü—É—à–∫–∏–Ω",
                "year": "1829",
                "tags": ["–∫–ª–∞—Å—Å–∏–∫–∞", "–ª—é–±–æ–≤—å", "–∏—Å–∫—Ä–µ–Ω–Ω–æ—Å—Ç—å"],
                "text": "–Ø –≤–∞—Å –ª—é–±–∏–ª: –ª—é–±–æ–≤—å –µ—â–µ, –±—ã—Ç—å –º–æ–∂–µ—Ç,\n–í –¥—É—à–µ –º–æ–µ–π —É–≥–∞—Å–ª–∞ –Ω–µ —Å–æ–≤—Å–µ–º;\n–ù–æ –ø—É—Å—Ç—å –æ–Ω–∞ –≤–∞—Å –±–æ–ª—å—à–µ –Ω–µ —Ç—Ä–µ–≤–æ–∂–∏—Ç;\n–Ø –Ω–µ —Ö–æ—á—É –ø–µ—á–∞–ª–∏—Ç—å –≤–∞—Å –Ω–∏—á–µ–º.\n\n–Ø –≤–∞—Å –ª—é–±–∏–ª –±–µ–∑–º–æ–ª–≤–Ω–æ, –±–µ–∑–Ω–∞–¥–µ–∂–Ω–æ,\n–¢–æ —Ä–æ–±–æ—Å—Ç—å—é, —Ç–æ —Ä–µ–≤–Ω–æ—Å—Ç—å—é —Ç–æ–º–∏–º;\n–Ø –≤–∞—Å –ª—é–±–∏–ª —Ç–∞–∫ –∏—Å–∫—Ä–µ–Ω–Ω–æ, —Ç–∞–∫ –Ω–µ–∂–Ω–æ,\n–ö–∞–∫ –¥–∞–π –≤–∞–º –ë–æ–≥ –ª—é–±–∏–º–æ–π –±—ã—Ç—å –¥—Ä—É–≥–∏–º."
            },
            {
                "id": 8,
                "title": "–®–µ–ø–æ—Ç, —Ä–æ–±–∫–æ–µ –¥—ã—Ö–∞–Ω—å–µ",
                "author": "–ê—Ñ–∞–Ω–∞—Å–∏–π –§–µ—Ç",
                "year": "1850",
                "tags": ["–∫–ª–∞—Å—Å–∏–∫–∞", "—Ä–æ–º–∞–Ω—Ç–∏–∫–∞", "–Ω–æ—á—å"],
                "text": "–®–µ–ø–æ—Ç, —Ä–æ–±–∫–æ–µ –¥—ã—Ö–∞–Ω—å–µ,\n–¢—Ä–µ–ª–∏ —Å–æ–ª–æ–≤—å—è,\n–°–µ—Ä–µ–±—Ä–æ –∏ –∫–æ–ª—ã—Ö–∞–Ω—å–µ\n–°–æ–Ω–Ω–æ–≥–æ —Ä—É—á—å—è,\n\n–°–≤–µ—Ç –Ω–æ—á–Ω–æ–π, –Ω–æ—á–Ω—ã–µ —Ç–µ–Ω–∏,\n–¢–µ–Ω–∏ –±–µ–∑ –∫–æ–Ω—Ü–∞,\n–†—è–¥ –≤–æ–ª—à–µ–±–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π\n–ú–∏–ª–æ–≥–æ –ª–∏—Ü–∞."
            },
            {
                "id": 9,
                "title": "–õ—é–±–æ–≤—å",
                "author": "–ê–Ω–Ω–∞ –ê—Ö–º–∞—Ç–æ–≤–∞",
                "year": "1911",
                "tags": ["–∫–ª–∞—Å—Å–∏–∫–∞", "–ª—é–±–æ–≤—å", "–∑–∞–≥–∞–¥–∫–∞"],
                "text": "–¢–æ –∑–º–µ–π–∫–æ–π, —Å–≤–µ—Ä–Ω—É–≤—à–∏—Å—å –∫–ª—É–±–∫–æ–º,\n–£ —Å–∞–º–æ–≥–æ —Å–µ—Ä–¥—Ü–∞ –∫–æ–ª–¥—É–µ—Ç,\n–¢–æ —Ü–µ–ª—ã–µ –¥–Ω–∏ –≥–æ–ª—É–±–∫–æ–º\n–ù–∞ –±–µ–ª–æ–º –æ–∫–æ—à–∫–µ –≤–æ—Ä–∫—É–µ—Ç.\n\n–¢–æ –≤ –∏–Ω–µ–µ —è—Ä–∫–æ–º –±–ª–µ—Å–Ω–µ—Ç,\n–ü–æ—á—É–¥–∏—Ç—Å—è –≤ –¥—Ä–µ–º–µ –ª–µ–≤–∫–æ—è...\n–ù–æ –≤–µ—Ä–Ω–æ –∏ —Ç–∞–π–Ω–æ –≤–µ–¥–µ—Ç\n–û—Ç —Ä–∞–¥–æ—Å—Ç–∏ –∏ –æ—Ç –ø–æ–∫–æ—è."
            },
            {
                "id": 10,
                "title": "–ù–∞ —Ö–æ–ª–º–∞—Ö –ì—Ä—É–∑–∏–∏",
                "author": "–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –ü—É—à–∫–∏–Ω",
                "year": "1829",
                "tags": ["–∫–ª–∞—Å—Å–∏–∫–∞", "–≥—Ä—É—Å—Ç—å", "–ª—é–±–æ–≤—å"],
                "text": "–ù–∞ —Ö–æ–ª–º–∞—Ö –ì—Ä—É–∑–∏–∏ –ª–µ–∂–∏—Ç –Ω–æ—á–Ω–∞—è –º–≥–ª–∞;\n–®—É–º–∏—Ç –ê—Ä–∞–≥–≤–∞ –ø—Ä–µ–¥–æ –º–Ω–æ—é.\n–ú–Ω–µ –≥—Ä—É—Å—Ç–Ω–æ –∏ –ª–µ–≥–∫–æ; –ø–µ—á–∞–ª—å –º–æ—è —Å–≤–µ—Ç–ª–∞;\n–ü–µ—á–∞–ª—å –º–æ—è –ø–æ–ª–Ω–∞ —Ç–æ–±–æ—é.\n\n–¢–æ–±–æ–π, –æ–¥–Ω–æ–π —Ç–æ–±–æ–π... –£–Ω—ã–Ω—å—è –º–æ–µ–≥–æ\n–ù–∏—á—Ç–æ –Ω–µ –º—É—á–∏—Ç, –Ω–µ —Ç—Ä–µ–≤–æ–∂–∏—Ç,\n–ò —Å–µ—Ä–¥—Ü–µ –≤–Ω–æ–≤—å –≥–æ—Ä–∏—Ç –∏ –ª—é–±–∏—Ç ‚Äî –æ—Ç—Ç–æ–≥–æ,\n–ß—Ç–æ –Ω–µ –ª—é–±–∏—Ç—å –æ–Ω–æ –Ω–µ –º–æ–∂–µ—Ç."
            },
            {
                "id": 11,
                "title": "–¢—ã - –º–æ–π –¥–æ–º–∞—à–Ω–∏–π —ç–∫—Ä–∞–Ω",
                "author": "–°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ",
                "year": "2024",
                "tags": ["—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏", "–º–µ—Ç–∞—Ñ–æ—Ä–∞", "–ª—é–±–æ–≤—å"],
                "text": "–¢—ã - –º–æ–π –¥–æ–º–∞—à–Ω–∏–π —ç–∫—Ä–∞–Ω –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ —Å–µ—Ä–¥—Ü–∞,\n–°–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –∂–∏–∑–Ω–∏,\n–ò –¥–∞–∂–µ –µ—Å–ª–∏ –±–∞—Ç–∞—Ä–µ–π–∫–∞ —Å–∞–¥–∏—Ç—Å—è,\n–¢–≤–æ—è –ª—é–±–æ–≤—å - –º–æ–π –≤–µ—á–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ —ç–Ω–µ—Ä–≥–∏–∏.\n\n–¢—ã - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ —è –≤—Å–µ–≥–¥–∞ –∂–¥—É,\n–ü—É—à, –æ—Ç –∫–æ—Ç–æ—Ä–æ–≥–æ —É—á–∞—â–∞–µ—Ç—Å—è –ø—É–ª—å—Å,\n–ò —Å–∞–º—ã–π –∫—Ä–∞—Å–∏–≤—ã–π –≤–æ—Ä–∫—Å–ø–µ–π—Å,\n–ì–¥–µ –º–µ—á—Ç—ã —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å—é."
            },
            {
                "id": 12,
                "title": "–í –º–µ—Ç—Ä–æ —Å –Ω–∞—É—à–Ω–∏–∫–∞–º–∏",
                "author": "–°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ",
                "year": "2024",
                "tags": ["–º–µ—Ç—Ä–æ", "–º—É–∑—ã–∫–∞", "–ª—é–±–æ–≤—å"],
                "text": "–í –º–µ—Ç—Ä–æ, –≤ –Ω–∞—É—à–Ω–∏–∫–∞—Ö –Ω–∞—à –ø–ª–µ–π–ª–∏—Å—Ç,\n–ò –≥–æ—Ä–æ–¥ –ø—Ä–æ–ø–∞–¥–∞–µ—Ç –≤–æ–∫—Ä—É–≥,\n–û—Å—Ç–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –±–∏—Ç –∏ —Ç–≤–æ–π –≥–æ–ª–æ—Å,\n–ò –ª—é–±–æ–≤—å, —á—Ç–æ –ª–µ—á–∏—Ç –æ—Ç –≤—Å–µ—Ö —Ä–∞–∑–ª—É–∫.\n\n–¢—ã –ø—Ä–∏—Å–ª–∞–ª–∞ –Ω–æ–≤—ã–π —Ç—Ä–µ–∫ —Å–æ —Å–ª–æ–≤–∞–º–∏ '–≠—Ç–æ –ø—Ä–æ –Ω–∞—Å',\n–ò —è —Å–ª—É—à–∞—é –µ–≥–æ –Ω–∞ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–∏,\n–ö–∞–∂–¥–∞—è —Å—Ç—Ä–æ—á–∫–∞ - –∫–∞–∫ –ø—Ä–∏–∑–Ω–∞–Ω–∏–µ,\n–ö–∞–∂–¥—ã–π –∞–∫–∫–æ—Ä–¥ - –Ω–∞—à–µ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ."
            },
            {
                "id": 13,
                "title": "–í–µ—á–µ—Ä–Ω–∏–π –∑–≤–æ–Ω–æ–∫",
                "author": "–°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ",
                "year": "2024",
                "tags": ["–∑–≤–æ–Ω–∫–∏", "–≤–µ—á–µ—Ä", "—Ä–æ–º–∞–Ω—Ç–∏–∫–∞"],
                "text": "–í–µ—á–µ—Ä–Ω–∏–π –∑–≤–æ–Ω–æ–∫ –≤–º–µ—Å—Ç–æ —Å–µ—Ä–∏–∞–ª–∞,\n–¢–≤–æ–π —Ä–∞—Å—Å–∫–∞–∑ –æ –ø—Ä–æ—à–µ–¥—à–µ–º –¥–Ω–µ\n–ò–Ω—Ç–µ—Ä–µ—Å–Ω–µ–µ –ª—é–±–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞,\n–í–∞–∂–Ω–µ–µ –≤—Å–µ—Ö –Ω–æ–≤–æ—Å—Ç–µ–π –≤ –ª–µ–Ω—Ç–µ.\n\n–ú—ã —Å–º–µ–µ–º—Å—è –Ω–∞–¥ –≥–ª—É–ø–æ—Å—Ç—è–º–∏,\n–ú–µ—á—Ç–∞–µ–º –æ –±—É–¥—É—â–∏—Ö –≤—Å—Ç—Ä–µ—á–∞—Ö,\n–ò –¥–∞–∂–µ –ø–∞—É–∑—ã –≤ —Ä–∞–∑–≥–æ–≤–æ—Ä–µ\n–ù–∞–ø–æ–ª–Ω–µ–Ω—ã —Ç–µ–ø–ª–æ–º –∏ –Ω–∞–¥–µ–∂–¥–æ–π."
            },
            {
                "id": 14,
                "title": "–¢—ã —Ç–∞–∫–∞—è —É –º–µ–Ω—è –æ–¥–Ω–∞",
                "author": "–°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ",
                "year": "2024",
                "tags": ["—É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å", "–ª—é–±–æ–≤—å", "—Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ"],
                "text": "–¢—ã —Ç–∞–∫–∞—è —É –º–µ–Ω—è –æ–¥–Ω–∞ -\n–ù–∏ —Å –∫–µ–º –Ω–µ —Å—Ä–∞–≤–Ω–∏–º–∞—è,\n–ö–∞–∫ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º,\n–ß—Ç–æ —Å–µ—Ä–¥—Ü–µ –ø–æ–Ω–∏–º–∞–µ—Ç —Å—Ä–∞–∑—É.\n\n–í —Ç–µ–±–µ –µ—Å—Ç—å —Ç–æ, —á—Ç–æ –Ω–µ –Ω–∞–π—Ç–∏\n–í –º–∏–ª–ª–∏–æ–Ω–∞—Ö –ø—Ä–æ—Ñ–∏–ª–µ–π,\n–¢—ã - –º–æ–π –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π —Ä–∞–π,\n–ú–æ–π —Å–∞–º—ã–π –ª—É—á—à–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç."
            },
            {
                "id": 15,
                "title": "–í –æ–±–ª–∞–∫–∞—Ö –∏ –Ω–∞ –∑–µ–º–ª–µ",
                "author": "–°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ",
                "year": "2024",
                "tags": ["–æ–±–ª–∞–∫–∞", "—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏", "–ª—é–±–æ–≤—å"],
                "text": "–ù–∞—à–∏ —Ñ–æ—Ç–æ –≤ –æ–±–ª–∞—á–Ω–æ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ,\n–ù–∞—à–∏ —Ä–∞–∑–≥–æ–≤–æ—Ä—ã –≤ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–µ —Å–µ—Ä–¥—Ü–∞,\n–î–∞–∂–µ –µ—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä —É–ø–∞–¥–µ—Ç,\n–ù–∞—à–∞ –ª—é–±–æ–≤—å –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –±–µ–∑ –∫–æ–Ω—Ü–∞.\n\n–¢—ã –∑–∞–≥—Ä—É–∂–∞–µ—à—å –≤ –¥—É—à—É —Ä–∞–¥–æ—Å—Ç—å,\n–Ø —Å–∫–∞—á–∏–≤–∞—é —Ç–≤–æ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ,\n–ò –≤ —ç—Ç–æ–º —Ü–∏—Ñ—Ä–æ–≤–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ\n–ú—ã –Ω–∞—Ö–æ–¥–∏–º –Ω–∞—Å—Ç–æ—è—â–µ–µ –µ–¥–∏–Ω–µ–Ω–∏–µ."
            },
            {
                "id": 16,
                "title": "–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –¥—É—à–∏",
                "author": "–°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ",
                "year": "2024",
                "tags": ["—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è", "–¥—É—à–∞", "–ª—é–±–æ–≤—å"],
                "text": "–¢—ã - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –¥–ª—è –º–æ–µ–π –¥—É—à–∏,\n–ö–æ—Ç–æ—Ä–æ–µ —è –≤—Å–µ–≥–¥–∞ —Å –Ω–µ—Ç–µ—Ä–ø–µ–Ω–∏–µ–º –∂–¥—É,\n–ò –¥–∞–∂–µ –≤ —Ä–µ–∂–∏–º–µ '–ù–µ –±–µ—Å–ø–æ–∫–æ–∏—Ç—å'\n–°–µ—Ä–¥—Ü–µ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ç–µ–±—è –ª—é–±–∏—Ç—å.\n\n–¢–≤–æ–π —Å–º–µ—Ö - –≤–∏–±—Ä–∞—Ü–∏—è –≤ –≥—Ä—É–¥–∏,\n–¢–≤–æ–π –≤–∑–≥–ª—è–¥ - –ø—É—à-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å—á–∞—Å—Ç—å—è,\n–ò –∫–∞–∂–¥—ã–π —Ç–≤–æ–π '–ü—Ä–∏–≤–µ—Ç'\n–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç –º–æ–∏ —á—É–≤—Å—Ç–≤–∞ —Å –Ω–æ–≤–æ–π —Å—Ç—Ä–∞—Å—Ç–∏."
            },
            {
                "id": 17,
                "title": "–ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π –ø–ª–µ–π–ª–∏—Å—Ç",
                "author": "–°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ",
                "year": "2024",
                "tags": ["–º—É–∑—ã–∫–∞", "–ø–ª–µ–π–ª–∏—Å—Ç", "–ª—é–±–æ–≤—å"],
                "text": "–¢—ã - –º–æ–π –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π –ø–ª–µ–π–ª–∏—Å—Ç,\n–ì–¥–µ –∫–∞–∂–¥—ã–π —Ç—Ä–µ–∫ - –æ –Ω–∞—Å,\n–ò –¥–∞–∂–µ –∫–æ–≥–¥–∞ –º—É–∑—ã–∫–∞ –∑–∞–º–æ–ª–∫–∞–µ—Ç,\n–í —É—à–∞—Ö –∑–≤—É—á–∏—Ç —Ç–≤–æ–π –≥–æ–ª–æ—Å, –ª—é–±—è.\n\n–ú—ã —Å–æ–∑–¥–∞–µ–º —Å–∞—É–Ω–¥—Ç—Ä–µ–∫ –æ—Ç–Ω–æ—à–µ–Ω–∏–π,\n–ì–¥–µ —Å–º–µ—Ö - —ç—Ç–æ –±–∏—Ç, –∞ –≤–∑–≥–ª—è–¥—ã - –∞–∫–∫–æ—Ä–¥—ã,\n–ò —ç—Ç–æ—Ç –º–∏–∫—Å —á—É–≤—Å—Ç–≤\n–ü—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –∂–∏–∑–Ω—å –≤ –∫—Ä–∞—Å–∏–≤—É—é –∏—Å—Ç–æ—Ä–∏—é."
            },
            {
                "id": 18,
                "title": "–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –≤ —Ç–µ–ª–µ—Ñ–æ–Ω–µ",
                "author": "–°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ",
                "year": "2024",
                "tags": ["—Ñ–æ—Ç–æ", "–ø–∞–º—è—Ç—å", "–ª—é–±–æ–≤—å"],
                "text": "–õ–∏—Å—Ç–∞—é —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –≤ —Ç–µ–ª–µ—Ñ–æ–Ω–µ -\n–ö–∞–∂–¥–∞—è —Å —Ç–æ–±–æ–π –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–∏—Ä,\n–ò –¥–∞–∂–µ –ø–∏–∫—Å–µ–ª–∏ –Ω–∞ —ç–∫—Ä–∞–Ω–µ\n–ü–µ—Ä–µ–¥–∞—é—Ç —Ç–µ–ø–ª–æ —Ç–≤–æ–∏—Ö –≥–ª–∞–∑.\n\n–£–≤–µ–ª–∏—á–∏–≤–∞—é, —á—Ç–æ–±—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å —É–ª—ã–±–∫—É,\n–°–æ—Ö—Ä–∞–Ω—è—é –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ –≤–∑–≥–ª—è–¥,\n–ò –ø–æ–Ω–∏–º–∞—é, —á—Ç–æ –Ω–∏–∫–∞–∫–æ–µ –æ–±–ª–∞–∫–æ\n–ù–µ –≤–º–µ—Å—Ç–∏—Ç –≤—Å—é –Ω–µ–∂–Ω–æ—Å—Ç—å, —á—Ç–æ —Ç—ã –º–Ω–µ –æ—Ç–¥–∞–ª."
            },
            {
                "id": 19,
                "title": "–í–∏–¥–µ–æ–∑–≤–æ–Ω–æ–∫ –≤–º–µ—Å—Ç–æ —Å–≤–∏–¥–∞–Ω–∏—è",
                "author": "–°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ",
                "year": "2024",
                "tags": ["–≤–∏–¥–µ–æ–∑–≤–æ–Ω–æ–∫", "—Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ", "–ª—é–±–æ–≤—å"],
                "text": "–í–∏–¥–µ–æ–∑–≤–æ–Ω–æ–∫ –≤–º–µ—Å—Ç–æ —Å–≤–∏–¥–∞–Ω–∏—è,\n–ù–æ —Ç–≤–æ–∏ –≥–ª–∞–∑–∞ —Ç–∞–∫ –∂–µ –±–ª–∏–∑–∫–∏,\n–ò –¥–∞–∂–µ —á–µ—Ä–µ–∑ –ø–ª–æ—Ö–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ\n–Ø –≤–∏–∂—É –≤ –Ω–∏—Ö —Ç—É –∂–µ –ª—é–±–æ–≤—å.\n\n–¢—ã –ø–æ–∫–∞–∑—ã–≤–∞–µ—à—å —Å–≤–æ–π –∑–∞–∫–∞—Ç –≤ –æ–∫–Ω–µ,\n–Ø - —Å–≤–æ–π —Ä–∞—Å—Å–≤–µ—Ç,\n–ò –ø–æ–ª—É—á–∞–µ—Ç—Å—è, —á—Ç–æ –º—ã –¥–µ–ª–∏–º—Å—è\n–°–∞–º—ã–º–∏ –≤–∞–∂–Ω—ã–º–∏ –º–æ–º–µ–Ω—Ç–∞–º–∏ –≤–º–µ—Å—Ç–µ."
            },
            {
                "id": 20,
                "title": "–≠–º–æ–¥–∑–∏ –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö",
                "author": "–°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ",
                "year": "2024",
                "tags": ["—ç–º–æ–¥–∑–∏", "—Å–æ–æ–±—â–µ–Ω–∏—è", "–ª—é–±–æ–≤—å"],
                "text": "–¢—ã –ø—Ä–∏—Å—ã–ª–∞–µ—à—å —Å–µ—Ä–¥–µ—á–∫–∏ —É—Ç—Ä–æ–º,\n–Ø –æ—Ç–≤–µ—á–∞—é —Ü–≤–µ—Ç–∞–º–∏ –≤–µ—á–µ—Ä–æ–º,\n–ò —ç—Ç–æ—Ç —è–∑—ã–∫ —ç–º–æ–¥–∑–∏\n–ü–æ—Ä–æ–π –≥–æ–≤–æ—Ä–∏—Ç –±–æ–ª—å—à–µ —Å–ª–æ–≤.\n\n–°–º–∞–π–ª–∏–∫ —Å –ø–æ–¥–º–∏–≥–∏–≤–∞–Ω–∏–µ–º - –∫–∞–∫ —Ñ–ª–∏—Ä—Ç,\n–°–µ—Ä–¥–µ—á–∫–æ - –∫–∞–∫ –ø—Ä–∏–∑–Ω–∞–Ω–∏–µ,\n–ê –ø—Ä–æ—Å—Ç–æ–µ '–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ'\n–° —ç–º–æ–¥–∑–∏ —Å–æ–ª–Ω—Ü–∞ —Å–æ–≥—Ä–µ–≤–∞–µ—Ç –¥–µ–Ω—å."
            }
            // ... –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –µ—â–µ 30 —Å—Ç–∏—Ö–æ–≤ –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏
        ];
    }

    // –ü–æ–ª—É—á–∏—Ç—å —Å–ª—É—á–∞–π–Ω—ã–π —Å—Ç–∏—Ö
    getRandomPoem() {
        if (this.poems.length === 0) return null;
        const randomIndex = Math.floor(Math.random() * this.poems.length);
        return this.poems[randomIndex];
    }

    // –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Å—Ç–∏—Ö–∏
    getAllPoems() {
        return this.poems;
    }

    // –ê–Ω–∏–º–∞—Ü–∏—è –ø–µ—á–∞—Ç–∏ —Ç–µ–∫—Å—Ç–∞
    async typeText(element, text, speed = 30) {
        if (this.isTyping) {
            this.stopTyping();
        }

        this.isTyping = true;
        element.innerHTML = '';
        let i = 0;
        
        return new Promise((resolve) => {
            this.currentAnimation = setInterval(() => {
                if (i < text.length) {
                    if (text[i] === '\n') {
                        element.innerHTML += '<br>';
                    } else if (text[i] === ' ') {
                        element.innerHTML += '&nbsp;';
                    } else {
                        element.innerHTML += text[i];
                    }
                    
                    element.scrollTop = element.scrollHeight;
                    i++;
                } else {
                    clearInterval(this.currentAnimation);
                    this.isTyping = false;
                    this.currentAnimation = null;
                    element.style.borderRight = 'none';
                    resolve();
                }
            }, speed);
        });
    }

    // –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∞–Ω–∏–º–∞—Ü–∏–∏
    stopTyping() {
        if (this.currentAnimation) {
            clearInterval(this.currentAnimation);
            this.isTyping = false;
            this.currentAnimation = null;
        }
    }

    // –û—Ç–æ–±—Ä–∞–∑–∏—Ç—å —Å–ª—É—á–∞–π–Ω—ã–π —Å—Ç–∏—Ö —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π –ø–µ—á–∞—Ç–∏
    async displayRandomPoemWithAnimation(containerId, speed = 40) {
        const poem = this.getRandomPoem();
        if (!poem) return;
        
        const container = document.getElementById(containerId);
        if (!container) return;
        
        container.innerHTML = `
            <div class="poem-card fade-in" data-poem-id="${poem.id}">
                <h3 class="poem-title">${poem.title}</h3>
                <div class="poem-meta">
                    <span class="poem-author">${poem.author}</span>
                    <span class="poem-year">${poem.year}</span>
                </div>
                <div class="poem-text typing-area"></div>
                <div class="typing-controls">
                    <button onclick="poemsLibrary.stopTyping()" class="btn-small">‚èπÔ∏è –°—Ç–æ–ø</button>
                    <button onclick="poemsLibrary.skipAnimation('${containerId}')" class="btn-small">‚è© –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å</button>
                    <button onclick="poemsLibrary.restartAnimation('${containerId}')" class="btn-small">üîÑ –ó–∞–Ω–æ–≤–æ</button>
                </div>
                ${poem.tags ? `<div class="poem-tags">${poem.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}</div>` : ''}
            </div>
        `;

        const typingArea = container.querySelector('.typing-area');
        await this.typeText(typingArea, poem.text, speed);
    }

    // –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é –∏ –ø–æ–∫–∞–∑–∞—Ç—å –≤–µ—Å—å —Ç–µ–∫—Å—Ç
    skipAnimation(containerId) {
        this.stopTyping();
        const container = document.getElementById(containerId);
        const poem = this.getRandomPoem();
        if (container && poem) {
            const typingArea = container.querySelector('.typing-area');
            if (typingArea) {
                typingArea.innerHTML = poem.text.replace(/\n/g, '<br>');
                typingArea.style.borderRight = 'none';
            }
        }
    }

    // –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é
    restartAnimation(containerId) {
        this.displayRandomPoemWithAnimation(containerId, 40);
    }

    // –û—Ç–æ–±—Ä–∞–∑–∏—Ç—å —Å–ª—É—á–∞–π–Ω—ã–π —Å—Ç–∏—Ö (–æ–±—ã—á–Ω—ã–π —Å–ø–æ—Å–æ–±)
    displayRandomPoem(containerId) {
        const poem = this.getRandomPoem();
        if (!poem) return;
        
        const container = document.getElementById(containerId);
        if (!container) return;
        
        container.innerHTML = this.createPoemHTML(poem);
    }

    // –û—Ç–æ–±—Ä–∞–∑–∏—Ç—å –≤—Å–µ —Å—Ç–∏—Ö–∏
    displayAllPoems(containerId) {
        const container = document.getElementById(containerId);
        if (!container) return;
        
        let html = '';
        this.poems.forEach(poem => {
            html += this.createPoemHTML(poem);
        });
        container.innerHTML = html;
    }

    // –û—Ç–æ–±—Ä–∞–∑–∏—Ç—å —Å—Ç–∏—Ö –≤ —Ñ–∏–Ω–∞–ª—å–Ω–æ–º —Ä–∞–∑–¥–µ–ª–µ
    displayFinalPoem(containerId) {
        const poem = this.getRandomPoem();
        if (!poem) return;
        
        const container = document.getElementById(containerId);
        if (!container) return;
        
        container.innerHTML = `
            <div class="poem-card fade-in">
                <h3>${poem.title}</h3>
                <div class="poem-meta">
                    <span>${poem.author}</span>
                    <span>${poem.year}</span>
                </div>
                <div class="poem-text">${poem.text.replace(/\n/g, '<br>')}</div>
                ${poem.tags ? `<div class="poem-tags">${poem.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}</div>` : ''}
            </div>
        `;
    }

    // –°–æ–∑–¥–∞—Ç—å HTML –¥–ª—è —Å—Ç–∏—Ö–∞
    createPoemHTML(poem) {
        return `
            <div class="poem-card fade-in" data-poem-id="${poem.id}">
                <h3 class="poem-title">${poem.title}</h3>
                <div class="poem-meta">
                    <span class="poem-author">${poem.author}</span>
                    <span class="poem-year">${poem.year}</span>
                </div>
                <div class="poem-text">${poem.text.replace(/\n/g, '<br>')}</div>
                ${poem.tags ? `<div class="poem-tags">${poem.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}</div>` : ''}
            </div>
        `;
    }
}

// –°–æ–∑–¥–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä
window.poemsLibrary = new PoemsLibrary();
